---
layout: post
title: 2019泉州一中基地校集训Day1
author: When
date: 2019-01-16 19:39:28 +0800
categories: Competition Diary
tag: Diary
---

明知会失败但是还是不得不去尝试的一天

# 回忆

考试后感觉太惨烈了不想去回忆，但是Day 2听了zzx的讲课发现还有比Day 1考试更让人自闭的东西:cry:，于是就又有动力回来总结了

## 题面简介

一共$3$题，开$O2$和C++ 11​​，而且基本不卡空间和时间

1. 经典的约瑟夫问题，数据范围在$10^{18}$左右（当然这是不可做的），不同的是$k$(第几个人被杀)和$m$(要求第m个被杀的人是谁)中至少有一个小于$10^6$
2. 被出题人概括为求一棵树上的完美$k$叉树的个数
3. 维护一个点集，支持：单点加向量，单点变色，询问编号区间的异色曼哈顿距离最远点

## 经历

毕竟已经过去一天了，而且还是不怎么愉快的回忆，所以只能大概回忆一下了

看到$T1$就知道是约瑟夫问题了，而且也会回忆出了在刘汝佳的书上有提到过，但是死活记不起来，肝了快一个小时暴力都没打:astonished:，只好赶紧去看$T2$和$T3$

$T2$大概意会了一下，发现$k$叉树可以旋转，然后就不知道怎么做了（脑海里全是$100\%$的数据范围），于是去看了一下$T3$

于是乎就有了收获（还不如没有:cry:），想了一下维护最远曼哈顿距离的套路，然后就有了大概的思路，但是发现这个思路和颜色数的平方有关，于是和scy去上了个厕所，路上讨论了一下，分享了一下我的做法但是并没有什么收获

回来又思索了一会，仔细讨论了一下发现只需要维护最大值和次大值即可，但是受到之前部分分想法的影响，我选择了平衡树来维护这个东西:sweat:，打之前我就知道这个东西会很难写，很可能调不出来，但是还是不得不写:cry:

为了求稳赶紧去肝了一下$T1$，百度了一下约瑟夫问题然后直接被点醒:sweat:，所以知识掌握的还是不够牢啊

之后开始肝$T3$，改掉若干小错误之后程序陷入了死环，然后实在是没时间调试了，最后只好暴力$30pts$收场

## 后记

后面发现scy似乎借鉴了我的思路肝出了$T3$ $80pts$，用的线段树，我只能呵呵呵了

后面讲课的时候出题人说道用指针可以避免数组时把$0$号节点拿去用的情况（毕竟访问`null`直接`RE`掉了），这时候我忽然想起来我把$0$号节点丢去当了保护节点，我:cry:

以及发现$T2$涉及到旋转的话有着整整$50pts$可以通过暴力枚举根获得，剩下的$50pts$需要换根$dp$，但是即使如此，$50pts$也很多了

听了一下$T1$，发现和我想象的差不多，就是对$m$和$k$哪个小进行分类讨论，但是我并没有去深思，所以就没有拿到分数了（虽然听说式子很麻烦，现场写起来难度会很大）

## 反思

仔细想象，我约瑟夫问题明明看过但是没有深思，导致考场上只有一个影响，虽然记得大概位置但是就是不会做，所以就十分的蛋疼，类似的情况还不少，说明我有些时候想的不够深入只是泛泛的看一下

而且以后一定要先看暴力档了

而且一定要好好地去补缺补漏，现在感觉只是已经差不多，但是有很多只是大概记得一个名词的东西（就像约瑟夫问题），所以与其去学习$LCT$/仙人掌还不如仔细研究一下如何高效稳定的实现利用平衡树对吧（毕竟我连$lazytag$都还打得不够熟练）

## Fighting！

# 讲课体验

下午的讲课还是蛮轻松的（对比第二天的zzx，简直:relaxed:），当然还是学到了一些*名词*的，虽然还是要靠课后补习就是了

大概总结了一下，就是讲了：

- 可并堆，他讲了左偏树，但是顺便安利了一下斜堆，所以我也就吃了这个安利
- 然后还有李超线段树，虽然课件写的乱七八糟的，但是听他讲的还是挺清晰的:sweat_smile:，就是维护区间中点最低点线段和区间最小值，然后下凸壳是靠着一段段区间拼起来的，虽然还是不知道怎么打:confused:，寒假的时候研究一下
- 然后主席树是老生常谈了，主要是线段树合并比较感兴趣，之前了解过这个东西，但是对于这种左右子树都要合并的操作感觉时间复杂度不能保证，所以被激励着去看了一下时间复杂度分析，发现原来是因为创建的节点最多也就$(n+m)\log n$个所以即使所有节点都合并了一遍时间复杂度也不会炸掉，:unamused:我还以为有什么独特的类似摊还分析之类的操作呢

- 然后还有线段树分治，操作知道了，但是不知道这么做有什么用:cold_sweat:，问dh也没问出什么来，还是要靠自己研究
- 然后还有平衡树，第一次了解了范浩强$Treap$，感觉挺interesting的，但是毕竟写了很久的splay了也不打算研究可持久化$Treap$，应该只能搁置了
- 然后就是LCT，这东西我已经差不多理解原理了，但是模板不会写，也没有什么时间去了解了，就只能搁置了
- 然后杂题选讲了解了一堆奇奇怪怪的技巧
  - 替罪羊树维护不能旋转的东西
  - 二进制分组（原来这东西除了在线AC自动机还有其他用途）
  - 线段树维护折线（什么东西啊）

太难搞了，丢了丢了

