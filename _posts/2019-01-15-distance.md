---
layout: post
title: 曼哈顿距离和切比雪夫距离的转换
author: When
date: 2019-01-15 19:08:57 +0800
categories: Trick Coordinate-system
tag: Algorithm
---

在OI中，经常碰到有关曼哈顿距离的问题，有些问题要求曼哈顿距离最大或者最小，通用的方法是分符号讨论，情况数量是$2^k​$种，其中$k​$是维度，但是在二维平面[^1]上可以采用更加简单的方法来计算最大曼哈顿距离

[^1]:也只能在二维平面上

# 定义

二维切比雪夫距离：$\max(|x_1-x_2|,|y_1-y_2|)​$

二维曼哈顿距离：$|x_1-x_2|+|y_1-y_2|​$

# 联系

考虑二维平面上到原点二维曼哈顿距离为$1$的点和二维切比雪夫距离为$1$的点，得到以下图形：


![1547551803436.png](https://i.loli.net/2019/01/16/5c3f128820c24.png)

蓝色为切比雪夫距离，黑色为曼哈顿距离

可以看到都是正方形，还是刚好差了$\pi\over 2​$的正方形，所以可以推断出他们之间一定有一些*py*交易

# 转换

事实上我们只需要旋转一下坐标系，并且改变一下单位长度，就可以实现切比雪夫距离和曼哈顿距离之间的关系了

二维曼哈顿距离$\to$二维切比雪夫距离：$(x,y)\to(x+y,x-y)$

- 其实就是旋转$3\pi\over2$再乘以一个$\sqrt 2$：$(x,y)\to(\sqrt2(x\cos \frac {3\pi} 2-y\sin\frac {3\pi} 2),\sqrt 2(x\sin \frac {3\pi} 2+y\sin \frac {3\pi} 2))=(x+y,x-y)$
- 为什么是${3\pi}\over 2​$呢？好记吧！

二维切比雪夫距离$\to$二维曼哈顿距离：$(x,y)\to({ {x+y}\over 2},{ {x-y}\over 2})$

- 推导如上

# 用途

根据题面瞎搞

