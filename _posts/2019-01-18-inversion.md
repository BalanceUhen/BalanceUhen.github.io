---
layout: post
title: 逆序对的性质
author: When
date: 2019-01-18 21:41:52 +0800
categories: Trick Math
tag: Math
---

最近在zzx的讲课上听了好多有关逆序对的应用（虽然都没有记下来），打算开个坑慢慢记录一下:smirk:

如无意外约定一下逆序对都是在排列上进行讨论

# 交换不改变逆序对的奇偶性

考虑交换排列中的两个元素，设下标分别为$i,j$，设$\mid i-j-1\mid =k$，设$(i,j)$之间有$A$个数字小于$a_i$，有$B$个数字大于$a_i$

交换$a_i$和$a_j$不影响$i$前面的数字和j后面的数字与$a_i$和$a_j$构成逆序对，则交换之前$(i,j)$之间的数字一共构成了$A+B$个逆序对，交换之后构成了$(k-A)+(k-B)=2k-A-B$个逆序对，注意到$(2k-A-B)+(A+B)=2k$必定为偶数，所以交换前后对答案的贡献的奇偶性相同，则交换排列中的两个数字不改变其逆序对的奇偶性

